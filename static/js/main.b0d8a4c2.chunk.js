(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,a){e.exports=a(26)},17:function(e,t,a){},21:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},22:function(e,t,a){},24:function(e,t,a){},26:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(5),i=a.n(o),l=(a(17),a(9)),c=a(2),s=a(6),u=a(7),m=a(10),d=a(8),v=a(11),h=a(1);a(21),a(22),a(24);function b(e,t){return Array.from({length:Math.ceil(e.length/t)},function(a,n){return e.slice(n*t,n*t+t)})}function g(e){var t=e.board,a=e.running,n=void 0!==a&&a,o=e.updateBoard,i=e.boardSize,l=b(Array.from(t),Math.sqrt(i)),c="cell ";return 2500===i?c+="one-thousand":1e4===i&&(c+="ten-thousand"),r.a.createElement("div",null,l.map(function(e,t){return r.a.createElement("div",{className:"row",key:t},e.map(function(e,a){return r.a.createElement("div",{key:a,onClick:function(r){return!n&&o(e,a,t)},className:1===Number(e)?"".concat(c," bg-success"):"".concat(c," bg-warning")})}))}))}g.defaultProps={};var f=g,p=100,y=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).state={board:"0".repeat(p),boardSize:p,running:!1,aliveProportion:.5,gameInterval:null,generation:0},e.updateBoard=e.updateBoard.bind(Object(h.a)(Object(h.a)(e))),e.generateBoard=e.generateBoard.bind(Object(h.a)(Object(h.a)(e))),e.toggleGame=e.toggleGame.bind(Object(h.a)(Object(h.a)(e))),e.handleGenerateBoard=e.handleGenerateBoard.bind(Object(h.a)(Object(h.a)(e))),e}return Object(v.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.generateBoard()}},{key:"handleGenerateBoard",value:function(e){e.preventDefault(),this.generateBoard()}},{key:"generateBoard",value:function(){var e=this.state,t=e.aliveProportion,a=e.running,n=e.boardSize,r=t*n;if(a)return window.alert("invalid request"),!1;var o=function(e){for(var t=e.length;t;){var a=Math.floor(Math.random()*t--),n=[e[a],e[t]];e[t]=n[0],e[a]=n[1]}return e}(Array.from({length:n},function(e,t){return t<r?1:0})).join("");this.setState({board:o})}},{key:"advanceBoard",value:function(){var e=this,t=this.state,a=t.board,n=t.boardSize,r=Math.sqrt(n),o=b(Array.from(a),r),i=function e(t){var a;return(a=[]).concat.apply(a,Object(c.a)(t.map(function(t){return Array.isArray(t)?e(t):t})))}(o.map(function(t,a){return t.map(function(t,n){return{neighbors:e.getNeigbors(Number(t),n,a,o),cell:Number(t),x:n,y:a}})}).map(function(e){return e.map(function(e){var t=e.neighbors.reduce(function(e,t){return e+Number(t)},0);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return 1===e?!(2<t||3<t):3===t}(e.cell,t)?1:0})})).join("");this.setState({board:i,generation:this.state.generation+1})}},{key:"startGame",value:function(){var e=this,t={running:!0,generation:0,gameInterval:setInterval(function(){return e.advanceBoard()},100)};this.state.gameInterval?(clearInterval(this.state.gameInterval),this.setState({gameInterval:null,running:!1,generation:0},function(){e.setState(t)})):this.setState(t)}},{key:"getNeigbors",value:function(e,t,a,n){var r=Math.sqrt(this.state.boardSize)-1,o=0===t?r:t-1,i=t===r?0:t+1,l=0===a?r:a-1,c=a===r?0:a+1;return[n[o][a],n[t][l],n[o][l],n[i][a],n[t][c],n[i][c],n[i][l],n[o][c]].map(Number)}},{key:"updateBoard",value:function(e,t,a){var n=this.state.board,r=a*Math.sqrt(this.state.boardSize)+t,o=Array.from(n),i=1===Number(o[r])?0:1,l=Object(c.a)(o.slice(0,r)).concat([i],Object(c.a)(o.slice(r+1))).join("");this.setState({board:l})}},{key:"handleUpdateBoardSize",value:function(e){var t=this;e.preventDefault();var a=e.target.value;this.setState(Object(l.a)({},this.state,{boardSize:Number(a),running:!1,board:"0".repeat(p)}),function(){t.generateBoard()})}},{key:"toggleGame",value:function(){var e=this.state,t=e.running,a=e.gameInterval;t?(clearInterval(a),this.setState({running:!1,gameInterval:null})):this.startGame()}},{key:"render",value:function(){var e=this,t=this.state.running?"btn-danger":"btn-success";return r.a.createElement("div",{className:"app container"},r.a.createElement("h1",{className:"my-3 text-center text-uppercase"},"Game of Life",r.a.createElement("span",{className:"pl-3"},r.a.createElement("button",{className:"btn text-capitalize "+t,onClick:this.toggleGame},this.state.running?"stop":"start"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-3"},r.a.createElement("div",{className:"row"},r.a.createElement("form",null,r.a.createElement("label",null,"Cells"),r.a.createElement("select",{className:"form-control",value:this.state.boardSize,onChange:function(t){return e.handleUpdateBoardSize(t)}},r.a.createElement("option",{value:9},"9"),r.a.createElement("option",{value:100},"100"),r.a.createElement("option",{value:2500},"2500"),r.a.createElement("option",{value:1e4},"10000")))),r.a.createElement("div",{className:"row my-3"},r.a.createElement("form",{onSubmit:function(t){return e.handleGenerateBoard(t)}},r.a.createElement("label",null,"Alive %"),r.a.createElement("input",{onChange:function(t){return e.setState({aliveProportion:t.target.value})},className:"form-control",type:"number",value:this.state.aliveProportion,step:.05}),r.a.createElement("button",{type:"submit",className:"my-2 btn btn-info"},"Generate"))),r.a.createElement("div",{className:"row my-3"},r.a.createElement("h3",{className:this.state.running?null:"d-none"},r.a.createElement("b",null,"Generation: "),r.a.createElement("span",{className:"mono"},this.state.generation)))),r.a.createElement("div",{className:"col-md-9 row d-flex my-3"},r.a.createElement(f,Object.assign({},this.state,{updateBoard:this.updateBoard})))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var E=a(3),w=a.n(E);window.$=w.a,window.jquery=w.a,window.jQuery=w.a,i.a.render(r.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[12,2,1]]]);
//# sourceMappingURL=main.b0d8a4c2.chunk.js.map